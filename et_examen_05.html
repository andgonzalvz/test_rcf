<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EXAMEN - PILOTO DE SEGURIDAD 04</title>
<style>
:root{--bg:#0b132b;--card:#1c2541;--accent:#5bc0be;--ok:#21c17a;--bad:#ff5d73;--text:#f5f7ff;--warning:#ffc107}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,system-ui,-apple-system,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,var(--bg),#0f1a3a);color:var(--text);min-height:100vh;font-size:14px}
.header{padding:12px 10px;text-align:center;border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;background:rgba(11,19,43,.98);backdrop-filter:blur(10px);z-index:100;position:relative}
.header h1{margin:0 0 6px 0;font-size:1.2rem;font-weight:700}
.back-btn{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:36px;height:36px;padding:0;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:50%;color:var(--text);text-decoration:none;font-size:18px;transition:all .2s;line-height:1;display:flex;align-items:center;justify-content:center}
.back-btn:active{background:rgba(255,255,255,.15);transform:translateY(-50%) scale(.95)}
.badge{display:inline-block;padding:3px 10px;border-radius:999px;background:rgba(255,255,255,.08);font-size:11px;margin-top:4px}
.container{max-width:1000px;margin:0 auto;padding:10px 8px 200px}
.progress-bar{background:rgba(255,255,255,.1);height:3px;border-radius:999px;margin:8px 0;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),#3a9d9a);width:0%;transition:width .3s ease}
.card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;margin:8px 0;box-shadow:0 4px 12px rgba(0,0,0,.2)}
.q-title{font-weight:600;margin-bottom:10px;line-height:1.4;font-size:14px}
.q-number{color:var(--accent);font-size:11px;font-weight:700;margin-bottom:6px;display:block}
.options{display:grid;grid-template-columns:1fr;gap:6px}
.option{background:#121a34;border:2px solid rgba(255,255,255,.08);padding:8px;border-radius:8px;display:flex;align-items:flex-start;gap:8px;cursor:pointer;transition:all .2s;font-size:13px;line-height:1.3}
.option:active{background:#1a2341;border-color:rgba(91,192,190,.3)}
.option input{margin-top:2px;cursor:pointer;flex-shrink:0}
.option div{flex:1}
.answer-key{display:none;margin-top:8px;padding:8px;background:rgba(91,192,190,.1);border-radius:6px;font-size:12px}
.answer-key b{color:var(--accent)}
.show-answers .answer-key{display:block}
.feedback{margin-top:6px;font-size:12px;font-weight:600;padding:6px;border-radius:4px}
.correct{border-color:rgba(33,193,122,.6)!important;background:rgba(33,193,122,.05)!important}
.incorrect{border-color:rgba(255,93,115,.75)!important;background:rgba(255,93,115,.05)!important}
.actions{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,rgba(15,26,58,0),rgba(15,26,58,.99));padding:10px 8px;padding-bottom:calc(10px + env(safe-area-inset-bottom));backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.08);z-index:99}
.actions .bar{max-width:1000px;margin:0 auto;display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
button{background:var(--accent);border:none;color:#001018;font-weight:700;padding:10px 14px;border-radius:8px;cursor:pointer;transition:all .2s;font-size:13px;touch-action:manipulation}
button:active{background:var(--accent);opacity:.9;transform:scale(.98)}
button.secondary{background:transparent;border:1px solid rgba(255,255,255,.35);color:var(--text)}
button.secondary:active{background:rgba(255,255,255,.05)}
.score{font-weight:700;font-size:1rem}
.score-details{font-size:11px;color:var(--text);opacity:.8;margin-top:2px}
.footer{opacity:.8;font-size:11px;text-align:center;padding:15px;color:rgba(255,255,255,.5)}
@media (min-width: 720px){
  .options{grid-template-columns:1fr 1fr}
  body{font-size:15px}
  .card{padding:20px;margin:16px 0;border-radius:16px}
  .q-title{font-size:15px;margin-bottom:12px}
  .option{padding:12px;gap:10px;font-size:14px}
  .header{padding:20px 16px}
  .header h1{font-size:1.5rem;margin-bottom:8px}
  .container{padding:20px 16px 160px}
  button{padding:12px 18px;font-size:14px}
}
@media (max-width: 640px){
  .actions .bar{flex-direction:column;gap:6px}
  .score{text-align:center;width:100%;font-size:0.95rem}
  .actions{padding:8px 6px;padding-bottom:calc(8px + env(safe-area-inset-bottom))}
  button{padding:11px 12px}
  .btn-group{display:flex;gap:6px;width:100%}
  .btn-group button{flex:1}
}
.scroll-top{position:fixed;bottom:20px;right:20px;width:40px;height:40px;background:var(--accent);color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center;font-size:20px;z-index:99;opacity:0;visibility:hidden;transition:all .3s;touch-action:manipulation}
.scroll-top.visible{opacity:1;visibility:visible}
.scroll-top:active{transform:scale(.95)}
@media (max-width:640px){
  .scroll-top{width:36px;height:36px;bottom:16px;right:16px;font-size:18px}
}
</style>
</head>
<body>
  <div class="header">
    <a href="index.html" class="back-btn">‚Üê</a>
    <h1>EXAMEN - PILOTO DE SEGURIDAD 04</h1>
    <div class="badge">42 preguntas</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar"></div>
    </div>
  </div>
  
  <div class="container" id="questionsContainer">
    <!-- Questions will be generated here -->
  </div>

  <div class="actions">
    <div class="bar">
      <div>
        <div class="score">Puntuaci√≥n: <span id="score">‚Äî</span></div>
        <div class="score-details" id="scoreDetails"></div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;width:100%">
        <button onclick="calificar()" style="width:100%">üìä Calificar</button>
        <div class="btn-group">
          <button class="secondary" onclick="reiniciar()">üîÑ Reiniciar</button>
          <button class="secondary" onclick="toggleRespuestas(this)">üëÅÔ∏è Ver</button>
        </div>
      </div>
  </div>
  <button id="scrollTopBtn" class="scroll-top">‚Üë</button>
  
<script>
// Test data with questions and answers
// Examen 22 PS
const testData = {
"1": {
    "q": "En v√≠a √∫nica las se√±ales fijas pueden ubicarse:",
    "a": "B",
    "opts": [
      {"l": "A", "t": "Se instalar√°n en el lado de la v√≠a exterior m√°s pr√≥xima, o en la vertical de cada v√≠a."},
      {"l": "B", "t": "En el lado exterior de cada v√≠a (el opuesto al del entreeje), o en la vertical de cada v√≠a."},
      {"l": "C", "t": "A ambos lados de la v√≠a, o en la vertical de la misma."},
      {"l": "D", "t": "A ambos lados de la v√≠a, o en la vertical de la misma y si pueden surgir dudas de interpretaci√≥n sobre la v√≠a a la que afecta la se√±al, se instalar√° en dicha se√±al un cartel√≥n con la flecha orientada hacia ella."}
    ]},
  "2": {
    "q": "Una vez autorizado el trabajo en IISS, el Responsable de Circulaci√≥n que tenga a su cargo la instalaci√≥n y el de la Banda de Regulaci√≥n del PM, ¬øC√≥mo considerar√° la instalaci√≥n?",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Deber√°n considerar fuera de servicio las se√±ales y dem√°s dispositivos afectados."},
      {"l": "B", "t": "Deber√°n considerar fuera de servicio las agujas y dem√°s dispositivos afectados."},
      {"l": "C", "t": "Deber√°n considerar fuera de servicio las se√±ales y agujas."},
      {"l": "D", "t": "Deber√°n considerar fuera de servicio las se√±ales, agujas y dem√°s dispositivos afectados."}
    ]},
  "3": {
    "q": "En √°mbito BSL, la instalaci√≥n de se√±alizaci√≥n en plena v√≠a que permite dividir la longitud del cant√≥n de bloqueo se denomina:",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Un puesto de bloqueo (PB)"},
      {"l": "B", "t": "Un puesto de banalizaci√≥n (PBA)"},
      {"l": "C", "t": "Una bifurcaci√≥n."},
      {"l": "D", "t": "Puesto de cantonamiento (PCA)."}
    ]},
  "4": {
    "q": "Definici√≥n de marcha de maniobras.",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Impone al maquinista la obligaci√≥n de avanzar con la Mn que requiera el caso, regulando la velocidad de acuerdo con la longitud de v√≠a que visualiza por delante del puesto de conducci√≥n, de forma que pueda detener el tren ante cualquier obst√°culo o se√±al de parada."},
      {"l": "B", "t": "Impone al maquinista la obligaci√≥n de avanzar con precauci√≥n, sin exceder la velocidad de 30 km/h si la locomotora va tirando del tren, o de 20 km/h si va empuj√°ndolo, de forma que pueda detener el tren ante cualquier obst√°culo visible desde el puesto de conducci√≥n o ante una se√±al de parada."},
      {"l": "C", "t": "Impone al maquinista la obligaci√≥n de avanzar con la prudencia que requiera el caso, regulando la velocidad de acuerdo con la longitud de v√≠a que visualiza por delante del puesto de conducci√≥n, de forma que pueda detener el tren ante cualquier obst√°culo o se√±al de parada."},
      {"l": "D", "t": "Impone al maquinista la obligaci√≥n de avanzar con prudencia, sin exceder la velocidad de 30 km/h si la locomotora va tirando del tren, o de 20 km/h si va empuj√°ndolo, de forma que pueda detener el tren ante cualquier obst√°culo visible desde el puesto de conducci√≥n o ante una se√±al de parada."}
    ]},
  "5": {
    "q": "¬øQu√© documento describe las caracter√≠sticas, el funcionamiento y la utilizaci√≥n de toda clase de instalaciones de seguridad?",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Consignas A."},
      {"l": "B", "t": "Avisos."},
      {"l": "C", "t": "Horario de trenes."},
      {"l": "D", "t": "Consignas C."}
    ]},
  "6": {
    "q": "¬øEn qu√© libro del RCF (Reglamento de Circulaci√≥n Ferroviaria) se define el funcionamiento de las instalaciones de seguridad que son de uso com√∫n en la RFIG y donde se instalan?",
    "a": "C",
    "opts": [
      {"l": "A", "t": "En el Libro segundo y se instalan en tierra."},
      {"l": "B", "t": "En el Libro tercero y se instalan en la v√≠a."},
      {"l": "C", "t": "En el Libro primero y se instalan en la v√≠a y a bordo de los veh√≠culos."},
      {"l": "D", "t": "En el Libro quinto y se instalan en tierra y a bordo de los veh√≠culos."}
    ]},
  "7": {
    "q": "Se√±ala de los relacionados a continuaci√≥n que √∫til no es necesario en un Paso a Nivel:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Se√±al port√°til de parada de pantalla en v√≠as carentes de circuito de v√≠a y linternas dotadas de luces blanco y rojo"},
      {"l": "B", "t": "Barras o √∫tiles de cortocircuito como v√≠as existan"},
      {"l": "C", "t": "Se√±al port√°til de parada de pantalla y cartelones de \"Silbar Obreros\""},
      {"l": "D", "t": "Linternas dotadas de luces blanco y rojo"}
    ]},
  "8": {
    "q": "A qu√© grupo de cargamento pertenece los veh√≠culos:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Mercanc√≠as destinadas a trabajos en la v√≠a."},
      {"l": "B", "t": "Objetos individuales."},
      {"l": "C", "t": "Unidades de cargamento."},
      {"l": "D", "t": "Mercanc√≠as a granel"}
    ]},
  "9": {
    "q": "Cuando sea necesario resolver con urgencia casos no previstos en las normas de circulaci√≥n y relacionados con la seguridad, el PM dar√°:",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Con car√°cter provisional, las instrucciones pertinentes mediante comunicaci√≥n grabada o telefonema."},
      {"l": "B", "t": "Con car√°cter urgente, las instrucciones pertinentes mediante comunicaci√≥n grabada o telefonema."},
      {"l": "C", "t": "Con car√°cter provisional, las instrucciones pertinentes mediante una notificaci√≥n."},
      {"l": "D", "t": "Con car√°cter urgente, las instrucciones pertinentes mediante una consigna."}
    ]},
  "10": {
    "q": "Las √≥rdenes escritas prevalecen sobre:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Sobre las indicaciones relacionadas con las se√±ales de la v√≠a en todos los casos."},
      {"l": "B", "t": "Sobre las indicaciones relacionadas con las se√±ales de la v√≠a y/o el DMI, salvo cuando sea de aplicaci√≥n una velocidad l√≠mite o una velocidad de liberaci√≥n superior a la velocidad m√°xima indicada en la orden escrita."},
      {"l": "C", "t": "Sobre las indicaciones relacionadas con las se√±ales de la v√≠a y/o el DMI, salvo cuando sea de aplicaci√≥n una velocidad l√≠mite o una velocidad de liberaci√≥n inferiores a la velocidad m√°xima indicada en la orden escrita."},
      {"l": "D", "t": "Sobre las indicaciones relacionadas con las se√±ales de la v√≠a, salvo cuando sea de aplicaci√≥n una velocidad l√≠mite o una velocidad de liberaci√≥n inferiores a la velocidad m√°xima indicada en la orden escrita."}
    ]},
  "11": {
    "q": "A efectos de utilizaci√≥n de sistema de Radiotelefon√≠a, el equipo emisor-receptor instalado en una Banda de regulaci√≥n del Puesto de Mando, cuya situaci√≥n se indicar√° con un signo convencional en el Horario de los trenes. ¬øSe define como?",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Puesto M√≥vil Radio (PMR)."},
      {"l": "B", "t": "Puesto Central Radio (PCR)."},
      {"l": "C", "t": "Equipo Port√°til Radio (PPR)."},
      {"l": "D", "t": "Puesto Fijo Radio (PFR)."}
    ]},
  "12": {
    "q": "A efectos de la Consigna C N2 64/16, cu√°l de las siguientes tecnolog√≠as instaladas en la RFIG, no tiene consideraci√≥n de radiotelefon√≠a:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Tren Tierra."},
      {"l": "B", "t": "GSM-R"},
      {"l": "C", "t": "Tel√©fono Corporativo."},
      {"l": "D", "t": "Radiotelefonia RAM"}
    ]},
  "13": {
    "q": "Despu√©s de una parada o detenci√≥n accidental en plena v√≠a, y antes de reanudar la marcha, se har√°:",
    "a": "B",
    "opts": [
      {"l": "A", "t": "La se√±al de atenci√≥n."},
      {"l": "B", "t": "La se√±al ac√∫stica de atenci√≥n y luminosa de atenci√≥n."},
      {"l": "C", "t": "La se√±al atenci√≥n especial."},
      {"l": "D", "t": "La se√±al de alarma."}
    ]},
  "14": {
    "q": "Indique cu√°l ser√° la actuaci√≥n del maquinista al encontrar la se√±al representada en la imagen como se√±al avanzada de una estaci√≥n.",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.14.png",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Despu√©s de parar ante ella, avanzar√° con marcha de maniobras, sin exceder de 40 km/h hasta la se√±al siguiente. Si a continuaci√≥n de la se√±al siguiente existen agujas, no exceder√° de 30 km/h al paso por ellas (no contabiliz√°ndose a estos efectos la se√±al de retroceso)."},
      {"l": "B", "t": "Se denomina parada y si la se√±al mantiene esta misma indicaci√≥n transcurridos tres minutos desde la parada, el Maquinista, si nada se opone, avanzar√° con marcha a la vista, sin exceder la velocidad de 40 km/h, hasta llegar a la siguiente se√±al fija fundamental (no consider√°ndose a estos efectos las SPN),y se atendr√° a lo que esta ordena cualquiera que sea su indicaci√≥n. Tendr√° muy en cuenta que antes de llegar a esta √∫ltima se√±al se puede encontrar un tren, en cuyo caso se detendr√° a unos 50 metros de esta Si a continuaci√≥n de √©sta, existieran agujas, no se exceder√° la velocidad de 40 km/h al paso por ella."},
      {"l": "C", "t": "Despu√©s de parar ante ella, avanzar√° con marcha de maniobras, sin exceder de 40 km/h, hasta la se√±al siguiente. Si a continuaci√≥n de la se√±al siguiente existen agujas, no exceder√° de 10 km/h al paso por ellas."},
      {"l": "D", "t": "Se denomina parada y si la se√±al mantiene esta misma indicaci√≥n transcurridos tres minutos desde la parada, el Maquinista, si nada se opone, avanzar√° con marcha a la vista, sin exceder la velocidad de 40 km/h, hasta llegar a la siguiente se√±al fija fundamental (no consider√°ndose a estos efectos las SPN),y se atendr√° a lo que esta ordena cualquiera que sea su indicaci√≥n. Tendr√° muy en cuenta que antes de llegar a esta √∫ltima se√±al se puede encontrar un tren, en cuyo caso se detendr√° a unos 50 metros de esta Si a continuaci√≥n de √©sta, existieran agujas, no se exceder√° la velocidad de 30 km/h al paso por ellas."}
    ]},
  "15": {
    "q": "En la protecci√≥n normal por encontrarse la v√≠a interceptada, ¬øa qu√© distancia se colocar√°n las se√±ales port√°tiles de parada?",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Colocar√≠amos se√±ales port√°tiles de parada a 1500m del punto de peligro y en sus proximidades. Cuando la se√±al port√°til de parada no sea presentada por personal, √©sta se emplazar√° en el eje de la v√≠a."},
      {"l": "B", "t": "En trayectos dotados de circuitos de v√≠a se colocar√° la barra o √∫til de cortocircuitado en las proximidades del punto interceptado."},
      {"l": "C", "t": "Colocar√≠amos se√±ales port√°tiles a 500 m del punto de peligro y en sus proximidades."},
      {"l": "D", "t": "Colocar√≠amos se√±ales de parada a mano a 1200 m del punto de peligro y colocar√≠amos se√±ales de parada a mano en las proximidades del punto de peligro."}
    ]},
  "16": {
    "q": "En incidencias en la circulaci√≥n, ¬øC√≥mo se define escape del material?",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Se define escape de material el movimiento incontrolado de uno o varios veh√≠culos ferroviarios por acci√≥n de la declividad, viento o empuje de otros veh√≠culos ferroviarios."},
      {"l": "B", "t": "Se define escape de un tren el corte controlado del mismo durante la marcha. En ese caso cada parte no queda detenida por la acci√≥n del freno autom√°tico, sino con el freno de estacionamiento."},
      {"l": "C", "t": "Se define escape de un tren el corte controlado del mismo durante la marcha o a tren parado. En ese caso cada parte queda detenida por la acci√≥n del freno directo."},
      {"l": "D", "t": "Se define escape de material el movimiento controlado de uno o varios veh√≠culos ferroviarios por acci√≥n de la declividad, viento o empuje de otros veh√≠culos ferroviarios."}
    ]},
  "17": {
    "q": "La persona que en una estaci√≥n oiga la se√±al de la figura:",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Ordena la detenci√≥n inmediata de todos los trenes y maniobras que est√©n en movimiento."},
      {"l": "B", "t": "Har√° la de parada con los medios de que disponga y los Responsables de Circulaci√≥n dispondr√°n las se√±ales de la estaci√≥n para detener los trenes que se aproximen o salgan de ella."},
      {"l": "C", "t": "Ordena la detenci√≥n inmediata de todos los trenes y maniobras que est√©n en movimiento y si su misi√≥n se lo permita, acudir√° r√°pidamente al lugar de peligro o accidente para prestar los auxilios necesarios"},
      {"l": "D", "t": "Har√° la de parada con los medios de que disponga y los Responsables de Circulaci√≥n dispondr√°n las se√±ales de la estaci√≥n para detener los trenes que se aproximen o salgan de ella y si su misi√≥n se lo permita, acudir√° r√°pidamente al lugar de peligro o accidente para prestar los auxilios necesarios"}
    ]},
  "18": {
    "q": "Para materializar la protecci√≥n de emergencia, cu√°l de las siguientes formas de proceder, no es correcta:",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.18.png",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Presentando la se√±al de parada a mano al tren o trenes que se aproximen, a ser posible a la distancia de 1.500 m."},
      {"l": "B", "t": "Haciendo la se√±al de alarma, sobre todo en trayectos con v√≠a doble o m√∫ltiple."},
      {"l": "C", "t": "Si existen circuitos de v√≠a, mediante la barra o √∫til de cortocircuito."},
      {"l": "D", "t": "Poniendo las se√±ales fijas o pantallas de BCA y ERTMS en indicaci√≥n de abiertas."}
    ]},
  "19": {
    "q": "Trenes o cortes de material detenidos en plena v√≠a, en l√≠neas con circuitos de v√≠a:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Se aplicar√° la protecci√≥n de emergencia, por detr√°s, cuando se encuentren descarrilados totalmente."},
      {"l": "B", "t": "Se aplicar√° la protecci√≥n de emergencia, por delante, cuando se encuentren descarrilados totalmente."},
      {"l": "C", "t": "Se aplicar√° la protecci√≥n de emergencia, por detr√°s y por delante, cuando se encuentren descarrilados totalmente."},
      {"l": "D", "t": "Se aplicar√° la protecci√≥n normal, por detr√°s y por delante, cuando se encuentren descarrilados totalmente."}
    ]},
  "20": {
    "q": "El Responsable de Circulaci√≥n, durante la aplicaci√≥n de la EVB deber√°n cumplir una serie de prescripciones, cual es incorrecta:",
    "a": "B",
    "opts": [
      {"l": "A", "t": "En las estaciones, mantendr√° cerradas las se√±ales de entrada y salida hacia y desde las v√≠as afectadas."},
      {"l": "B", "t": "Cuando sea necesario establecer un itinerario en el tramo de v√≠a concedido para los trabajos, la apertura de las se√±ales de entrada o salida de las estaciones se realizar√° exclusivamente con la indicaci√≥n de V√≠a libre y, si ello no es posible, se autorizar√° su rebase."},
      {"l": "C", "t": "Cuando las necesidades de los trabajos obliguen a rebasar reiteradamente una se√±al avanzada no dotada de letra \"P\", el Responsable de Circulaci√≥n podr√° autorizar al Maquinista su rebase tantas veces como lo considere necesario el Encargado de Trabajos durante la EVB."},
      {"l": "D", "t": "En el caso de pruebas, las Consignas editadas por el Al podr√°n determinar las indicaciones de las se√±ales fijas en cada caso para la necesaria realizaci√≥n de las mismas."}
    ]},
  "21": {
    "q": "La se√±al del dibujo es:",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.21.png",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Una se√±al port√°til de parada y ordena detenci√≥n inmediata."},
      {"l": "B", "t": "Una se√±al port√°til de parada y ordena parada inmediata."},
      {"l": "C", "t": "Una se√±al fija de parada y ordena detecci√≥n accidental."},
      {"l": "D", "t": "Una se√±al fija de parada y ordena parada inmediata."}
    ]},
  "22": {
    "q": "En el sistema de trabajos en Intervalo de liberaci√≥n por tiempos en un trayecto con bloqueo telef√≥nico, el Encargado de trabajos o Piloto de seguridad deber√° disponer de autorizaci√≥n previa de:",
    "a": "B",
    "opts": [
      {"l": "A", "t": "El Responsable de Circulaci√≥n de una de las dos estaciones colaterales o del CTC."},
      {"l": "B", "t": "El Responsable de Circulaci√≥n de una de las estaciones colaterales al trayecto, qui√©n fijar√° el tiempo de ocupaci√≥n de la v√≠a."},
      {"l": "C", "t": "El Responsable de Circulaci√≥n del CTC del que depende el trayecto."},
      {"l": "D", "t": "El Responsable de Circulaci√≥n de la Banda de Regulaci√≥n del PM."}
    ]},
  "23": {
    "q": "¬øA qu√© materias pertenece esta etiqueta?",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.23.png",
    "a": "C",
    "opts": [
      {"l": "A", "t": "L√≠quidos inflamables."},
      {"l": "B", "t": "Gases inflamables."},
      {"l": "C", "t": "Gases t√≥xicos."},
      {"l": "D", "t": "Materias t√≥xicas."}
    ]},
  "24": {
    "q": "¬øC√≥mo se define el cant√≥n de bloqueo en BEM?",
    "a": "B",
    "opts": [
      {"l": "A", "t": "Parte de la v√≠a comprendida entre dos estaciones colaterales."},
      {"l": "B", "t": "Parte de la v√≠a o de cada una de las v√≠as comprendida entre dos estaciones colaterales abiertas."},
      {"l": "C", "t": "Parte de v√≠a comprendida entre dos se√±ales consecutivas de bloqueo."},
      {"l": "D", "t": "Tramo de v√≠a comprendido entre se√±ales que puedan presentar la indicaci√≥n de parada"}
    ]},
  "25": {
    "q": "¬øQu√© se√±al de las siguientes repetida dos veces consecutivas, cuando el tren est√© detenido en plena v√≠a o en una estaci√≥n sin personal, ordena al personal del tren ponerse en comunicaci√≥n con el Maquinista?",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.25.png",
    "a": "A",
    "opts": [
      {"l": "A", "t": "a"},
      {"l": "B", "t": "b"},
      {"l": "C", "t": "c"},
      {"l": "D", "t": "d"}
    ]},
  "26": {
    "q": "Las locomotoras, cuando realicen maniobras, llevar√°n:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "La correspondiente se√±alizaci√≥n de cabeza y de cola, sin hacer uso del alumbrado de gran intensidad en ninguno de los testeros."},
      {"l": "B", "t": "la se√±alizaci√≥n de cabeza tambi√©n en cola, haciendo uso del alumbrado de gran intensidad en los dos testeros."},
      {"l": "C", "t": "la se√±alizaci√≥n de cabeza tambi√©n en cola, sin hacer uso del alumbrado de gran intensidad en el testero de cola."},
      {"l": "D", "t": "la se√±alizaci√≥n de cola igual a la de cabeza, sin hacer uso del alumbrado de gran intensidad en ninguno de los testeros"}
    ]},
  "27": {
    "q": "En el sistema de trabajos en Intervalo de liberaci√≥n por tiempos en un trayecto con bloqueo telef√≥nico, el Encargado de trabajos o Piloto de seguridad deber√° disponer de autorizaci√≥n previa de:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "El Responsable de Circulaci√≥n de una de las dos estaciones colaterales o del CTC."},
      {"l": "B", "t": "El Responsable de Circulaci√≥n del CTC del que depende el trayecto."},
      {"l": "C", "t": "El Responsable de Circulaci√≥n de una de las estaciones colaterales al trayecto y la previa del Responsable de Circulaci√≥n de la Banda de Regulaci√≥n del PM."},
      {"l": "D", "t": "El Responsable de Circulaci√≥n de la Banda de Regulaci√≥n del PM."}
    ]},
  "28": {
    "q": "¬øEn qu√© casos no resulta imprescindible la presencia del piquete de entrevias?",
    "a": "C",
    "opts": [
      {"l": "A", "t": "En v√≠as dotadas de se√±ales de salida, el l√≠mite de compatibilidad operativa lo marcan dichas se√±ales."},
      {"l": "B", "t": "En v√≠as dotadas de se√±ales de entrada, el l√≠mite de compatibilidad operativa lo marcan dichas se√±ales."},
      {"l": "C", "t": "En v√≠as dotadas de se√±ales de salida y entrada, el limite de compatibilidad operativa lo marcan dichas se√±ales."},
      {"l": "D", "t": "En v√≠as dotadas de se√±ales, el l√≠mite de compatibilidad operativa lo marcan dichas se√±ales."}
    ]},
  "29": {
    "q": "Cuando en un mismo trayecto en Intervalo de liberaci√≥n por tiempo, se realicen trabajos de naturaleza diferente o situados en puntos alejados, en Intervalo de Liberaci√≥n por Tiempo todos ellos se considerar√°n:",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Independientes y dispondr√°n de un Encargado de Trabajos o Piloto de seguridad habilitado para concertar trabajos en cada uno."},
      {"l": "B", "t": "Dependientes y dispondr√°n de un Encargado de Trabajos o Piloto de seguridad habilitado para concertar trabajos en cada uno."},
      {"l": "C", "t": "Ser√°n Independientes o dependientes seg√∫n lo determine el Responsable de Circulaci√≥n de la Banda de Regulaci√≥n del PM y dispondr√°n de un Encargado de Trabajos o Piloto de seguridad habilitado para concertar trabajos en cada uno."},
      {"l": "D", "t": "Ser√°n Independientes o dependientes seg√∫n lo determine el Responsable de Circulaci√≥n de la estaci√≥n o del CTC y dispondr√°n de un Encargado de Trabajos o Piloto de seguridad habilitado para concertar trabajos en cada uno."}
    ]},
  "30": {
    "q": "¬øQu√© se entiende por bloqueo?",
    "a": "B",
    "opts": [
      {"l": "A", "t": "Sistema o proceso cuyo objetivo es confirmar que los trenes que circulen por la misma v√≠a y en el mismo sentido, lo hagan separados a una distancia que impida su alcance, y que cuando un tren circule por una v√≠a, no circule otro en sentido contrario por la misma v√≠a."},
      {"l": "B", "t": "Sistema o proceso cuyo objetivo es asegurar que los trenes que circulen por la misma v√≠a y en el mismo sentido, lo hagan separados a una distancia que impida su alcance, y que cuando un tren circule por una v√≠a, no circule otro en sentido contrario por la misma v√≠a."},
      {"l": "C", "t": "Sistema o proceso cuyo objetivo es proteger que los trenes que circulen por la misma v√≠a y en el mismo sentido, lo hagan separados a una distancia que impida su alcance, y que cuando un tren circule por una v√≠a, no circule otro en sentido contrario por la misma v√≠a."},
      {"l": "D", "t": "Sistema o proceso cuyo objetivo es garantizar que los trenes que circulen por la misma v√≠a y en el mismo sentido, lo hagan separados a una distancia que impida su alcance, y que cuando un tren circule por una v√≠a, no circule otro en sentido contrario por la misma v√≠a."}
    ]},
  "31": {
    "q": "En trabajos en el Sistema de Intervalo de liberaci√≥n por tiempos, los Responsables de Circulaci√≥n de las estaciones afectadas proteger√°n los mismos:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Cerrar√°n las se√±ales de entrada. Desactivar√°n, en su caso, los sistemas de: bloqueo, formaci√≥n autom√°tica de itinerarios, y los de apertura autom√°tica de se√±ales, si existen. Activar√°n, en su caso, los sistemas que impidan el establecimiento del bloqueo a su colateral."},
      {"l": "B", "t": "Cerrar√°n las se√±ales de salida. Activar√°n, en su caso, los sistemas de: bloqueo, formaci√≥n autom√°tica de itinerarios, y los de apertura autom√°tica de se√±ales, si existen. Desactivar√°n, en su caso, los sistemas que impidan el establecimiento del bloqueo a su colateral."},
      {"l": "C", "t": "Cerrar√°n las se√±ales de salida. Desactivar√°n, en su caso, los sistemas de: bloqueo, formaci√≥n autom√°tica de itinerarios, y los de apertura autom√°tica de se√±ales, si existen. Activar√°n, en su caso, los sistemas que impidan el establecimiento del bloqueo a su colateral."},
      {"l": "D", "t": "Cerrar√°n las se√±ales de salida y entrada. Desactivar√°n, en su caso, los sistemas de: bloqueo, formaci√≥n autom√°tica de itinerarios, y los de apertura autom√°tica de se√±ales, si existen. Desactivar√°n, en su caso, los sistemas que impidan el establecimiento del bloqueo a su colateral."}
    ]},
  "32": {
    "q": "El Puesto de Bloqueo por que se establecer√° y a cargo de quien estar√°",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Estar√° a cargo de un Responsable de Circulaci√≥n. Se establecer√° por Consigna del Al."},
      {"l": "B", "t": "Estar√° a cargo de un Responsable de Circulaci√≥n del CTC. Se establecer√° por Aviso del Al."},
      {"l": "C", "t": "Estar√° a cargo de un Responsable de Circulaci√≥n del CTC. Se establecer√° por Consigna del Al."},
      {"l": "D", "t": "Estar√° a cargo de un Responsable de Circulaci√≥n. Se establecer√° en el Horario de los trenes."}
    ]},
    "33": {
    "q": "En l√≠neas de v√≠a doble o m√∫ltiple, los trabajos que se realicen en una v√≠a, ser√°n compatibles con la circulaci√≥n normal de los trenes por las v√≠as contiguas, siempre que no afecten a su g√°libo o electrificaci√≥n. En la v√≠a no afectada por los trabajos la velocidad m√°xima ser√° cuando los trabajos se realicen en t√∫neles y viaductos:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "120 Km/h como m√≠nimo. En caso necesario, se podr√° establecer una velocidad inferior."},
      {"l": "B", "t": "120 Km/h. En caso necesario, se podr√° establecer una velocidad superior."},
      {"l": "C", "t": "120 Km/h como m√°ximo. En caso necesario, se podr√° establecer una velocidad inferior."},
      {"l": "D", "t": "120 Km/h como m√≠nimo. En caso necesario, se podr√° establecer una velocidad superior."}
    ]},
  "34": {
    "q": "Cuando un tren o maniobra est√© detenido por una se√±al de parada a mano, el Maquinista s√≥lo reanudar√° la marcha cuando se lo ordene:",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Un Responsable de Circulaci√≥n o un Encargado de trabajos en el caso de que la detenci√≥n se d√© en EVB."},
      {"l": "B", "t": "Un Responsable de Circulaci√≥n o del CTC."},
      {"l": "C", "t": "Un Responsable de Circulaci√≥n de la Banda de Regulaci√≥n del Puesto de Mando."},
      {"l": "D", "t": "La persona que ha presentado la se√±al."}
    ]},
  "35": {
    "q": "¬øC√≥mo se denomina y qu√© ordena esta se√±al?",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.35.png",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Paso a nivel sin protecci√≥n y ordena ponerse en condiciones de parar ante el PN o ante cada PN del grupo, sin rebasar ninguno hasta haberse asegurado de que no est√° transitado, adoptando, en su caso, el Maquinista las medidas complementarias de seguridad que estime necesarias."},
      {"l": "B", "t": "Paso a nivel sin protecci√≥n y ordena parar ante el PN o ante cada PN del grupo, sin rebasar ninguno hasta haberse asegurado de que no est√° transitado, adoptando, en su caso, el Maquinista las medidas complementarias de seguridad que estime necesarias."},
      {"l": "C", "t": "Paso a nivel sin protecci√≥n e indica ponerse en condiciones de parar ante el PN o ante cada PN del grupo, sin rebasar ninguno hasta haberse asegurado de que no est√° transitado, adoptando, en su caso, el Maquinista las medidas complementarias de seguridad que estime necesarias."},
      {"l": "D", "t": "Paso a nivel sin protecci√≥n e indica parar ante el PN o ante cada PN del grupo, sin rebasar ninguno hasta haberse asegurado de que no est√° transitado, adoptando, en su caso, el Maquinista las medidas complementarias de seguridad que estime necesarias."}
    ]},
  "36": {
    "q": "Detenci√≥n inmediata:",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Es la que efect√∫a el Maquinista por propia iniciativa en plena v√≠a, por anormalidad o en una estaci√≥n."},
      {"l": "B", "t": "Es la que efect√∫a el Maquinista por propia iniciativa en plena v√≠a o, por anormalidad,"},
      {"l": "C", "t": "Es la que realiza el Maquinista para tratar de evitar un peligro inminente, mediante la aplicaci√≥n del freno de emergencia"},
      {"l": "D", "t": "Es la que realiza el Maquinista para tratar de evitar un peligro inminente, mediante la aplicaci√≥n del freno de estacionamiento."}
    ]},
  "37": {
    "q": "Conducci√≥n autom√°tica:",
    "a": "A",
    "opts": [
      {"l": "A", "t": "La que realiza el sistema sin intervenci√≥n del maquinista, manteniendo la m√°xima velocidad permitida, y efectuando, de forma autom√°tica, las paradas comerciales programadas."},
      {"l": "B", "t": "La que desarrolla el maquinista bajo su responsabilidad de forma √≠ntegra, con o sin ASFA."},
      {"l": "C", "t": "La que desarrolla el maquinista bajo la tutela de un sistema de seguridad (ETCS/ERTMS, LZB o EBICAB) que le protege de posibles errores en el cumplimiento de las √≥rdenes que recibe, pero no gestiona las paradas comerciales."},
      {"l": "D", "t": "La que desarrolla el maquinista bajo la tutela de un sistema de seguridad (ETCS/ERTMS, LZB o EBICAB) que le protege de posibles errores en el cumplimiento de las √≥rdenes que recibe y gestiona las paradas comerciales"}
    ]},
  "38": {
    "q": "La se√±al del dibujo, indica que:",
    "img": "https://raw.githubusercontent.com/noveskeno/test_rcf/main/data/images/et_examen_05.38.png",
    "a": "B",
    "opts": [
      {"l": "A", "t": "El √∫ltimo de un grupo de PN, dotados de semibarreras autom√°ticas y protegidos por una se√±al."},
      {"l": "B", "t": "El punto donde comienza (o termina) el circuito el√©ctrico del PN."},
      {"l": "C", "t": "Hay un apartadero a la distancia de frenado."},
      {"l": "D", "t": "Hay un apeadero a la distancia de frenado."}
    ]},
  "39": {
    "q": "¬øPara qu√© se elaboran los Horarios de los trenes?",
    "a": "C",
    "opts": [
      {"l": "A", "t": "Fijar fechas de entrada en vigor o anulaci√≥n de documentos, en los casos de apertura, cierre o modificaci√≥n de l√≠neas o dependencias, o cuando sea preciso recordar o aclarar normas de circulaci√≥n."},
      {"l": "B", "t": "Fijar fechas de entrada en vigor de documentos, en los casos de apertura, cierre o modificaci√≥n de lineas o dependencias, o cuando sea preciso recordar o aclarar normas de circulaci√≥n."},
      {"l": "C", "t": "Dar a conocer las marchas de los trenes, las velocidades m√°ximas de circulaci√≥n, los Cambios Significativos de la Velocidad m√°xima, las Limitaciones Temporales de Velocidad m√°xima y el resto de informaciones relevantes para la circulaci√≥n de los trenes."},
      {"l": "D", "t": "Dar a conocer las marchas de los trenes, las velocidades m√°ximas de circulaci√≥n, los Cambios Significativos de la Velocidad m√°xima, las Limitaciones Temporales de Velocidad m√°xima."}
    ]},
  "40": {
    "q": "Las se√±ales intermedias en el BLA, ¬øest√°n dotadas de la letra \"P\"?",
    "a": "D",
    "opts": [
      {"l": "A", "t": "Si."},
      {"l": "B", "t": "S√≠ y algunas se√±ales avanzadas."},
      {"l": "C", "t": "No, las se√±ales intermedias en BLA son absolutas."},
      {"l": "D", "t": "No, no existen intermedias en el BLA."}
    ]},
  "41": {
    "q": "¬øCu√°ndo se considera un transporte excepcional?",
    "a": "B",
    "opts": [
      {"l": "A", "t": "Cuando, debido a sus dimensiones, peso o naturaleza, debe realizarse con unas condiciones de transporte y unas prescripciones de circulaci√≥n especiales."},
      {"l": "B", "t": "Cuando, debido a sus dimensiones, peso, naturaleza o acondicionamiento, debe realizarse con unas condiciones de transporte y unas prescripciones de circulaci√≥n especiales."},
      {"l": "C", "t": "Cuando, debido a sus dimensiones, peso o acondicionamiento, debe realizarse con unas condiciones de transporte y unas prescripciones de circulaci√≥n especiales."},
      {"l": "D", "t": "Cuando, debido a sus dimensiones, peso o acondicionamiento, debe realizarse su transporte con unas condiciones de circulaci√≥n especiales."}
    ]},
  "42": {
    "q": "Un enclavamiento es....",
    "a": "A",
    "opts": [
      {"l": "A", "t": "Un sistema que permite fijar itinerarios seguros para la circulaci√≥n de los trenes en el √°mbito de las estaciones, estableciendo una relaci√≥n de dependencia entre las posiciones de los distintos aparatos de v√≠a del itinerario, las semibarreras de PN (en su caso) y las √≥rdenes que transmiten las se√±ales"},
      {"l": "B", "t": "Sistema o proceso cuyo objetivo es garantizar que los trenes que circulen por la misma v√≠a y en el mismo sentido, lo hagan separados a una distancia que impida su alcance, y que cuando un tren circule por una v√≠a, no circule otro en sentido contrario por la misma v√≠a ."},
      {"l": "C", "t": "Infraestructura ferroviaria consistente en una instalaci√≥n de v√≠as y sus aparatos asociados, protegida por se√±ales, y que tiene por objeto coordinar los procesos de la circulaci√≥n."},
      {"l": "D", "t": "Instalaci√≥n de se√±alizaci√≥n situada en plena v√≠a que permite dividir la longitud del cant√≥n de bloqueo."}
    ]}
};


  let respuestasVisibles = false;
let totalPreguntas = Object.keys(testData).length;

// Generate all questions on page load
function generarTest() {
  const container = document.getElementById('questionsContainer');
  
  Object.keys(testData).forEach(qid => {
    const q = testData[qid];
    const card = document.createElement('div');
    card.className = 'card question';
    card.dataset.qid = qid;
    
    let opcionesHTML = '';
    q.opts.forEach(opt => {
      opcionesHTML += `
        <label class="option">
          <input type="radio" name="q${qid}" value="${opt.l}" onchange="updateProgress()" />
          <div><b>${opt.l})</b> ${opt.t}</div>
        </label>
      `;
    });

const imagenHTML = q.img
  ? `<div style="margin:10px 0;text-align:center">
       <img src="${q.img}" alt="Imagen pregunta ${qid}"
            style="max-width:100%;border-radius:8px;border:1px solid rgba(255,255,255,.15)">
     </div>`
  : '';

card.innerHTML = `
  <span class="q-number">Pregunta ${qid} de ${totalPreguntas}</span>
  <div class="q-title">${q.q}</div>
  ${imagenHTML}
  <div class="options">${opcionesHTML}</div>
  <div class="answer-key">‚úì Respuesta correcta: <b>${q.a}</b></div>
  <div class="feedback"></div>
`;
    
    container.appendChild(card);
  });
}

// Update progress bar
function updateProgress() {
  const respondidas = document.querySelectorAll('input[type=radio]:checked').length;
  const porcentaje = (respondidas / totalPreguntas) * 100;
  document.getElementById('progressBar').style.width = porcentaje + '%';
}

// Grade the test
function calificar() {
  let correctas = 0;
  let incorrectas = 0;
  let sinResponder = 0;
  
  document.querySelectorAll('.question').forEach(card => {
    const qid = card.dataset.qid;
    const correcta = testData[qid].a;
    const seleccionada = card.querySelector('input[type=radio]:checked');
    
    card.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
    
    if (seleccionada) {
      const letra = seleccionada.value;
      if (letra === correcta) {
        correctas++;
        seleccionada.closest('.option').classList.add('correct');
        card.querySelector('.feedback').textContent = '‚úî ¬°Correcto!';
        card.querySelector('.feedback').style.color = 'var(--ok)';
      } else {
        incorrectas++;
        seleccionada.closest('.option').classList.add('incorrect');
        card.querySelector('.feedback').innerHTML = `‚úñ Incorrecto ¬∑ La correcta es: <b>${correcta}</b>`;
        card.querySelector('.feedback').style.color = 'var(--bad)';
        const corr = card.querySelector(`input[value="${correcta}"]`);
        if (corr) corr.closest('.option').classList.add('correct');
      }
    } else {
      sinResponder++;
      card.querySelector('.feedback').textContent = '‚ö† Sin responder';
      card.querySelector('.feedback').style.color = 'var(--warning)';
    }
  });
  
  const porcentaje = Math.round((correctas / totalPreguntas) * 100);
  const aprobado = porcentaje >= 50;
  
  document.getElementById('score').textContent = `${correctas} / ${totalPreguntas} (${porcentaje}%)`;
  document.getElementById('score').style.color = aprobado ? 'var(--ok)' : 'var(--bad)';
  
  document.getElementById('scoreDetails').innerHTML = `
    ‚úî ${correctas} correctas ¬∑ ‚úñ ${incorrectas} incorrectas ¬∑ ‚ö† ${sinResponder} sin responder
  `;
  
  // Scroll to top to see results
 // window.scrollTo({top: 0, behavior: 'smooth'});
}

// Reset the test
function reiniciar() {
  document.querySelectorAll('input[type=radio]').forEach(r => r.checked = false);
  document.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
  document.querySelectorAll('.feedback').forEach(f => {f.textContent=''; f.removeAttribute('style')});
  document.getElementById('score').textContent = '‚Äî';
  document.getElementById('score').removeAttribute('style');
  document.getElementById('scoreDetails').textContent = '';
  document.getElementById('progressBar').style.width = '0%';
  window.scrollTo({top: 0, behavior: 'smooth'});
}

// Toggle answer visibility
function toggleRespuestas(btn) {
  respuestasVisibles = !respuestasVisibles;
  document.body.classList.toggle('show-answers', respuestasVisibles);
  btn.textContent = respuestasVisibles ? 'üôà Ocultar respuestas' : 'üëÅÔ∏è Ver respuestas';
  
  if (respuestasVisibles) {
    document.querySelectorAll('.question').forEach(card => {
      const qid = card.dataset.qid;
      const correcta = testData[qid].a;
      card.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
      const corr = card.querySelector(`input[value="${correcta}"]`);
      if (corr) corr.closest('.option').classList.add('correct');
    });
  } else {
    document.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
  }
}

// Initialize test on page load
window.addEventListener('load', () => {
  generarTest();
});
// Scroll to top button functionality
const scrollTopBtn = document.getElementById('scrollTopBtn');

// Show/hide button based on scroll position
window.addEventListener('scroll', () => {
  if (window.pageYOffset > 300) {
    scrollTopBtn.classList.add('visible');
  } else {
    scrollTopBtn.classList.remove('visible');
  }
});

// Smooth scroll to top on click
scrollTopBtn.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});
</script>
</body>
</html>
